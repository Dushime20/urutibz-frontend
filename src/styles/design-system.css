/* 
  UrutiBz Design System
  AI-Powered International Peer-to-Peer Rental Platform
*/

/* CSS Variables - Foundation */
:root {
  /* Colors */
  --color-active: rgb(0, 170, 169);
  --color-active-dark: rgb(0, 50, 50);
  --color-platform-grey: rgb(136, 136, 136);
  --color-platform-dark-grey: rgb(83, 83, 83);
  --color-platform-light-grey: rgb(222, 222, 222);
  --color-platform-error: rgb(235, 0, 0);
  
  /* Background and Foreground */
  --background-color: rgb(255, 255, 255);
  --foreground-color: rgb(83, 83, 83);
  
  /* Typography */
  --font-primary: 'Outfit', 'Inter', sans-serif;
  --font-secondary: 'Inter', sans-serif;
  
  /* Spacing */
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;
  --spacing-2xl: 3rem;
  --spacing-3xl: 4rem;
  
  /* Border Radius */
  --border-radius-sm: 6px;
  --border-radius-md: 12px;
  --border-radius-lg: 16px;
  --border-radius-xl: 24px;
  --border-radius-full: 9999px;
  
  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  
  /* Transitions */
  --transition-fast: 150ms ease-in-out;
  --transition-medium: 250ms ease-in-out;
  --transition-slow: 350ms ease-in-out;
}

/* Typography System */
@layer base {
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-primary);
    font-weight: 600;
    line-height: 1.2;
    color: var(--color-platform-dark-grey);
  }
  
  body {
    font-family: var(--font-secondary);
    color: var(--color-platform-dark-grey);
    line-height: 1.5;
  }
}

/* Component Library */
@layer components {
  /* Buttons */
  .btn-primary {
    @apply bg-active hover:bg-active-dark text-white font-medium py-3 px-6 rounded-platform transition-all duration-200 shadow-platform hover:shadow-platform-lg active:transform active:scale-95;
  }
  
  .btn-secondary {
    @apply bg-platform-light-grey hover:bg-platform-grey text-platform-dark-grey font-medium py-3 px-6 rounded-platform transition-all duration-200 shadow-platform hover:shadow-platform-lg active:transform active:scale-95;
  }
  
  .btn-outline {
    @apply border-2 border-active text-active hover:bg-active hover:text-white font-medium py-3 px-6 rounded-platform transition-all duration-200 active:transform active:scale-95;
  }
  
  .btn-ghost {
    @apply text-active hover:bg-active hover:bg-opacity-10 font-medium py-3 px-6 rounded-platform transition-all duration-200 active:transform active:scale-95;
  }
  
  .btn-danger {
    @apply bg-platform-error hover:bg-error-600 text-white font-medium py-3 px-6 rounded-platform transition-all duration-200 shadow-platform hover:shadow-platform-lg active:transform active:scale-95;
  }
  
  .btn-sm {
    @apply py-2 px-4 text-sm;
  }
  
  .btn-lg {
    @apply py-4 px-8 text-lg;
  }
  
  /* Cards */
  .card {
    @apply bg-white rounded-platform shadow-platform border border-platform-light-grey transition-all duration-200 hover:shadow-platform-lg;
  }
  
  .card-interactive {
    @apply card hover:border-active hover:shadow-platform-xl cursor-pointer transform hover:-translate-y-1 transition-all duration-200;
  }
  
  .card-header {
    @apply p-6 border-b border-platform-light-grey;
  }
  
  .card-body {
    @apply p-6;
  }
  
  .card-footer {
    @apply p-6 border-t border-platform-light-grey bg-gray-50;
  }
  
  /* Forms */
  .form-input {
    @apply w-full px-4 py-3 border border-platform-light-grey rounded-platform focus:outline-none focus:ring-2 focus:ring-active focus:border-active transition-all duration-200;
  }
  
  .form-input:invalid {
    @apply border-platform-error focus:ring-platform-error focus:border-platform-error;
  }
  
  .form-label {
    @apply block text-sm font-medium text-platform-dark-grey mb-2;
  }
  
  .form-error {
    @apply text-platform-error text-sm mt-1;
  }
  
  .form-select {
    @apply form-input appearance-none bg-no-repeat bg-right pr-10;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
  }
  
  /* Navigation */
  .nav-link {
    @apply text-platform-grey hover:text-active font-medium transition-colors duration-200 px-3 py-2 rounded-platform hover:bg-active hover:bg-opacity-10;
  }
  
  .nav-link-active {
    @apply nav-link text-active bg-active bg-opacity-10;
  }
  
  /* Badges */
  .badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-medium;
  }
  
  .badge-primary {
    @apply badge bg-active bg-opacity-10 text-active;
  }
  
  .badge-success {
    @apply badge bg-success-100 text-success-700;
  }
  
  .badge-warning {
    @apply badge bg-warning-100 text-warning-700;
  }
  
  .badge-error {
    @apply badge bg-error-100 text-error-700;
  }
  
  .badge-grey {
    @apply badge bg-platform-light-grey text-platform-dark-grey;
  }
  
  /* AI-Specific Components */
  .ai-badge {
    @apply inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-active to-active-dark text-white;
  }
  
  .ai-recommendation {
    @apply border-l-4 border-active bg-active bg-opacity-5 p-4 rounded-r-platform;
  }
  
  .ai-confidence {
    @apply text-xs text-platform-grey font-medium;
  }
  
  /* International Elements */
  .currency-selector {
    @apply form-select w-24 text-sm;
  }
  
  .language-selector {
    @apply form-select w-32 text-sm;
  }
  
  .flag-icon {
    @apply w-5 h-5 rounded-sm mr-2;
  }
  
  /* Status Indicators */
  .status-online {
    @apply w-3 h-3 bg-success-500 rounded-full;
  }
  
  .status-offline {
    @apply w-3 h-3 bg-platform-grey rounded-full;
  }
  
  .status-busy {
    @apply w-3 h-3 bg-warning-500 rounded-full;
  }
  
  .status-away {
    @apply w-3 h-3 bg-platform-error rounded-full;
  }
  
  /* Trust & Verification */
  .verification-badge {
    @apply inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-success-100 text-success-700;
  }
  
  .trust-score {
    @apply text-lg font-bold text-active;
  }
  
  .security-indicator {
    @apply inline-flex items-center text-xs text-success-600;
  }
  
  /* Category Cards */
  .category-card {
    @apply card-interactive p-6 text-center;
  }
  
  .category-icon {
    @apply w-12 h-12 mx-auto mb-4 text-active;
  }
  
  .category-title {
    @apply text-lg font-semibold text-platform-dark-grey mb-2;
  }
  
  .category-count {
    @apply text-sm text-platform-grey;
  }
  
  /* Product Cards */
  .product-card {
    @apply card-interactive overflow-hidden;
  }
  
  .product-image {
    @apply w-full h-48 object-cover;
  }
  
  .product-title {
    @apply text-lg font-semibold text-platform-dark-grey mb-2;
  }
  
  .product-price {
    @apply text-xl font-bold text-active;
  }
  
  .product-rating {
    @apply flex items-center text-sm text-platform-grey;
  }
  
  /* Loading States */
  .loading-spinner {
    @apply inline-block w-4 h-4 border-2 border-active border-r-transparent rounded-full animate-spin;
  }
  
  .loading-pulse {
    @apply animate-pulse bg-platform-light-grey rounded-platform;
  }
  
  /* Content Grid System - Simplified */
  .content-grid {
    display: grid;
    grid-template-columns: 
      [full-width-start] 
      1fr 
      [breakout-start]
      minmax(0, 64px)
      [content-start]
      min(100% - 2rem, 1024px)
      [content-end]
      minmax(0, 64px)
      [breakout-end]
      1fr
      [full-width-end];
    justify-content: center;
    width: 100%;
  }
  
  /* Responsive adjustments */
  @media (max-width: 1280px) {
    .content-grid {
      grid-template-columns: 
        [full-width-start] 
        1fr 
        [breakout-start]
        minmax(0, 32px)
        [content-start]
        min(100% - 2rem, 900px)
        [content-end]
        minmax(0, 32px)
        [breakout-end]
        1fr
        [full-width-end];
    }
  }
  
  @media (max-width: 1024px) {
    .content-grid {
      grid-template-columns: 
        [full-width-start] 
        1fr 
        [breakout-start]
        minmax(0, 24px)
        [content-start]
        min(100% - 2rem, 768px)
        [content-end]
        minmax(0, 24px)
        [breakout-end]
        1fr
        [full-width-end];
    }
  }
  
  @media (max-width: 768px) {
    .content-grid {
      grid-template-columns: 
        [full-width-start] 
        1fr 
        [breakout-start]
        minmax(0, 16px)
        [content-start]
        min(100% - 2rem, 100%)
        [content-end]
        minmax(0, 16px)
        [breakout-end]
        1fr
        [full-width-end];
    }
  }
  
  /* Grid item placement */
  .content-grid > :not(.breakout, .breakout-left, .breakout-right, .full-width) {
    grid-column: content;
  }
  
  .content-grid > .breakout {
    grid-column: breakout;
  }
  
  .content-grid > .breakout-left {
    grid-column: breakout-start / content-end;
  }
  
  .content-grid > .breakout-right {
    grid-column: content-start / breakout-end;
  }
  
  .content-grid > .full-width {
    grid-column: full-width;
  }
  
  /* Content wrapper for dashboard and internal pages */
  .content {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 1rem;
  }
  
  @media (min-width: 640px) {
    .content {
      padding: 0 1.5rem;
    }
  }
  
  @media (min-width: 1024px) {
    .content {
      padding: 0 2rem;
    }
  }
  
  /* Responsive Utilities */
  .grid-responsive {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6;
  }
  
  /* Text Utilities */
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  /* Mobile-first responsive text sizes */
  .text-responsive-xs {
    @apply text-xs sm:text-sm lg:text-base;
  }
  
  .text-responsive-sm {
    @apply text-sm sm:text-base lg:text-lg;
  }
  
  .text-responsive-base {
    @apply text-base sm:text-lg lg:text-xl;
  }
  
  .text-responsive-lg {
    @apply text-lg sm:text-xl lg:text-2xl;
  }
  
  .text-responsive-xl {
    @apply text-xl sm:text-2xl lg:text-3xl;
  }
  
  .text-responsive-2xl {
    @apply text-2xl sm:text-3xl lg:text-4xl;
  }
  
  /* Responsive spacing utilities */
  .space-responsive-x {
    @apply space-x-2 sm:space-x-4 lg:space-x-6;
  }
  
  .space-responsive-y {
    @apply space-y-2 sm:space-y-4 lg:space-y-6;
  }
  
  .gap-responsive {
    @apply gap-2 sm:gap-4 lg:gap-6;
  }
  
  /* Responsive padding */
  .p-responsive {
    @apply p-3 sm:p-4 lg:p-6;
  }
  
  .px-responsive {
    @apply px-3 sm:px-4 lg:px-6;
  }
  
  .py-responsive {
    @apply py-3 sm:py-4 lg:py-6;
  }
  
  /* Responsive margins */
  .m-responsive {
    @apply m-3 sm:m-4 lg:m-6;
  }
  
  .mx-responsive {
    @apply mx-3 sm:mx-4 lg:mx-6;
  }
  
  .my-responsive {
    @apply my-3 sm:my-4 lg:my-6;
  }
  
  /* Mobile menu styles */
  .mobile-menu {
    @apply lg:hidden fixed inset-0 z-50 bg-white shadow-lg;
  }
  
  .mobile-menu-overlay {
    @apply fixed inset-0 bg-black bg-opacity-50 transition-opacity;
  }
  
  .mobile-menu-content {
    @apply relative bg-white w-full max-w-sm ml-auto h-full overflow-y-auto;
  }
  
  /* Hide/show utilities for responsive design */
  .show-mobile {
    @apply block sm:hidden;
  }
  
  .show-tablet {
    @apply hidden sm:block lg:hidden;
  }
  
  .show-desktop {
    @apply hidden lg:block;
  }
  
  .hide-mobile {
    @apply hidden sm:block;
  }
  
  .hide-tablet {
    @apply block sm:hidden lg:block;
  }
  
  .hide-desktop {
    @apply block lg:hidden;
  }
  
  /* Responsive card layouts */
  .card-responsive {
    @apply p-3 sm:p-4 lg:p-6 xl:p-8;
  }
  
  .card-compact {
    @apply p-2 sm:p-3 lg:p-4;
  }
  
  /* Responsive button sizes */
  .btn-responsive {
    @apply px-3 py-2 text-sm sm:px-4 sm:py-2 sm:text-base lg:px-6 lg:py-3 lg:text-lg;
  }
  
  .btn-compact {
    @apply px-2 py-1 text-xs sm:px-3 sm:py-2 sm:text-sm;
  }
}

/* Keyframes */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from { transform: translateY(20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

@keyframes scaleIn {
  from { transform: scale(0.95); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

/* Utility Classes */
@layer utilities {
  .text-active {
    color: var(--color-active);
  }
  
  .text-active-dark {
    color: var(--color-active-dark);
  }
  
  .bg-active {
    background-color: var(--color-active);
  }
  
  .bg-active-dark {
    background-color: var(--color-active-dark);
  }
  
  .border-active {
    border-color: var(--color-active);
  }
  
  .gradient-active {
    background: linear-gradient(135deg, var(--color-active) 0%, var(--color-active-dark) 100%);
  }
  
  .shadow-active {
    box-shadow: 0 4px 14px 0 rgba(0, 170, 169, 0.25);
  }

  /* Viewport-aware utilities */
  .min-h-viewport {
    min-height: 100vh;
  }
  
  .min-h-viewport-safe {
    min-height: calc(100vh - 4rem); /* Account for header/nav */
  }
  
  .max-h-viewport {
    max-height: 100vh;
  }
  
  .h-viewport-safe {
    height: calc(100vh - 4rem);
  }
  
  /* Responsive spacing that adapts to viewport */
  .space-viewport-sm {
    @apply space-y-2 md:space-y-4 lg:space-y-6;
  }
  
  .space-viewport-md {
    @apply space-y-4 md:space-y-6 lg:space-y-8;
  }
  
  .space-viewport-lg {
    @apply space-y-6 md:space-y-8 lg:space-y-12;
  }
  
  /* Compact mode for smaller screens */
  @media (max-height: 700px) {
    .min-h-viewport-compact {
      min-height: 80vh;
    }
    
    .space-viewport-compact {
      @apply space-y-2;
    }
    
    .py-viewport-compact {
      @apply py-4;
    }
  }
}
